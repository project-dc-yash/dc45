<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriTwin | ESP32 Node Manager</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2ecc71;
            --dark-bg: #0d1117;
            --card-bg: #161b22;
            --border: #30363d;
            --text: #c9d1d9;
            --warning: #f1c40f;
            --danger: #f85149;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--dark-bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Navigation */
        nav { width: 80px; background: #010409; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding: 20px 0; }
        .nav-btn { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; color: #8b949e; cursor: pointer; border-radius: 12px; margin-bottom: 20px; transition: 0.3s; }
        .nav-btn.active { color: var(--primary); background: rgba(46, 204, 113, 0.1); }

        /* Main Layout */
        main { flex: 1; padding: 30px; overflow-y: auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        
        /* Node Grid */
        .node-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .node-card { background: var(--card-bg); border: 1px solid var(--border); border-radius: 20px; padding: 20px; transition: 0.3s; position: relative; }
        .node-card:hover { border-color: var(--primary); transform: translateY(-5px); }
        
        .node-status { position: absolute; top: 20px; right: 20px; width: 10px; height: 10px; border-radius: 50%; }
        .status-online { background: var(--primary); box-shadow: 0 0 10px var(--primary); }
        .status-offline { background: var(--danger); }

        .node-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .node-icon { width: 45px; height: 45px; background: #0d1117; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--primary); }

        .telemetry-mini { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.8rem; margin-top: 15px; }
        .telemetry-mini span { color: #8b949e; }
        .telemetry-mini b { color: white; }

        /* Add Node Form */
        .add-node-section { background: #010409; border: 1px solid var(--border); border-radius: 20px; padding: 30px; max-width: 600px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.8rem; color: #8b949e; margin-bottom: 5px; }
        .form-group input, .form-group select { width: 100%; padding: 12px; background: #161b22; border: 1px solid var(--border); border-radius: 8px; color: white; }
        
        .btn-add { background: var(--primary); color: black; border: none; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }

        /* Stats Bar */
        .battery-bar { height: 6px; background: #333; border-radius: 3px; margin-top: 5px; }
        .battery-fill { height: 100%; background: var(--primary); border-radius: 3px; }
    </style>
</head>
<body>

    <nav>
        <div class="nav-btn"><i class="fas fa-th-large"></i></div>
        <div class="nav-btn"><i class="fas fa-leaf"></i></div>
        <div class="nav-btn active"><i class="fas fa-microchip"></i></div>
        <div class="nav-btn"><i class="fas fa-history"></i></div>
    </nav>

    <main>
        <div class="page-header">
            <div>
                <h1>ESP32 Network Nodes</h1>
                <p style="color: #8b949e;">Active hardware mesh monitoring.</p>
            </div>
            <div style="text-align: right;">
                <span style="color: var(--primary); font-weight: bold;">3 Active Nodes</span><br>
                <small style="color: #666;">Last Ping: Just Now</small>
            </div>
        </div>

        <div class="node-grid">
            <div class="node-card">
                <div class="node-status status-online"></div>
                <div class="node-header">
                    <div class="node-icon"><i class="fas fa-broadcast-tower"></i></div>
                    <div>
                        <h3 style="font-size: 1rem;">ESP32-Field-Alpha</h3>
                        <small style="color: #8b949e;">MAC: 24:6F:28:AE:D3:10</small>
                    </div>
                </div>
                <div class="telemetry-mini">
                    <div><span>RSSI:</span> <b>-64 dBm</b></div>
                    <div><span>Uptime:</span> <b>14h 22m</b></div>
                    <div><span>VCC:</span> <b>3.32V</b></div>
                    <div><span>Crop:</span> <b>Banana</b></div>
                </div>
                <div style="margin-top: 15px;">
                    <div style="display: flex; justify-content: space-between; font-size: 0.7rem; margin-bottom: 5px;">
                        <span>Battery Life (Li-Po)</span>
                        <span>88%</span>
                    </div>
                    <div class="battery-bar"><div class="battery-fill" style="width: 88%;"></div></div>
                </div>
            </div>

            <div class="node-card">
                <div class="node-status status-online"></div>
                <div class="node-header">
                    <div class="node-icon"><i class="fas fa-microchip"></i></div>
                    <div>
                        <h3 style="font-size: 1rem;">ESP32-Soil-Beta</h3>
                        <small style="color: #8b949e;">MAC: AC:67:B2:12:F4:01</small>
                    </div>
                </div>
                <div class="telemetry-mini">
                    <div><span>RSSI:</span> <b>-72 dBm</b></div>
                    <div><span>Uptime:</span> <b>02h 10m</b></div>
                    <div><span>VCC:</span> <b>3.28V</b></div>
                    <div><span>Crop:</span> <b>Mango</b></div>
                </div>
                <div style="margin-top: 15px;">
                    <div style="display: flex; justify-content: space-between; font-size: 0.7rem; margin-bottom: 5px;">
                        <span>Battery Life (Solar)</span>
                        <span>42%</span>
                    </div>
                    <div class="battery-bar"><div class="battery-fill" style="width: 42%; background: var(--warning);"></div></div>
                </div>
            </div>

             <div class="node-card" style="opacity: 0.7;">
                <div class="node-status status-offline"></div>
                <div class="node-header">
                    <div class="node-icon"><i class="fas fa-plug"></i></div>
                    <div>
                        <h3 style="font-size: 1rem;">ESP32-Gate-01</h3>
                        <small style="color: #8b949e;">MAC: DD:12:A2:33:EE:09</small>
                    </div>
                </div>
                <p style="font-size: 0.8rem; color: var(--danger); margin-top: 10px;">Connection Lost: 45 mins ago</p>
            </div>
        </div>

        <div class="add-node-section">
            <h2><i class="fas fa-plus-circle"></i> Register New Node</h2>
            <p style="font-size: 0.85rem; color: #8b949e; margin-bottom: 20px;">Link a new ESP32 board to the AgriTwin digital model.</p>
            
            <div class="form-group">
                <label>NODE SERIAL NUMBER / MAC ADDRESS</label>
                <input type="text" placeholder="e.g. 24:6F:28:XX:XX:XX">
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label>ASSIGN CROP ZONE</label>
                    <select>
                        <option>Banana Field</option>
                        <option>Mango Orchard</option>
                        <option>Coffee Plantation</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>SENSOR TYPE</label>
                    <select>
                        <option>Soil + Temp (DHT22/Capacitive)</option>
                        <option>Camera Node (ESP32-CAM)</option>
                        <option>NPK Sensor Pro</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>INITIAL CALIBRATION OFFSET (Optional)</label>
                <input type="number" placeholder="0.00">
            </div>

            <button class="btn-add" onclick="alert('Searching for Node via Bluetooth/WiFi...')">INITIALIZE HANDSHAKE</button>
        </div>
    </main>

</body>
</html>